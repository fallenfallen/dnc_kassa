Александр, здравствуйте

Все исправления я выложил на FTP в папку Romanow/8.09.2011/

1. В программе Work1 я исправил поиск оборудования через USB<->COM, протестировал на протоколах Штрих-М, Меркурий, на протоколе АТОЛ почему-то не работает (проверял и через стандартный интерфейс confGUI, то же самое).

2. В программе ConfigTool добавлен ProgressBar для проверки настроек прокси-сервера, и если запрос прошел, то данные добавляются в базу.

3. Параметры подключения к базе берутся из файла /etc/dancy/dnc_eds.conf.

Пример файла:

[DATABASE] dnc_eds
[HOST] 127.0.0.1
[PORT] 5432
[USER] user
[PASSWORD] root

4. В программах DiscountMobile и ConfigTool все взаимодействие с базой реализовано через библиотеку libpq, вместе с этой библиотекой там тянутся libssl и libcrypto.

LIBS += -L/usr/include/postgresql/ -lpq -lcrypto -lssl

Если будут вопросы, то лучше пишите на romanowalex@mail.ru, я ее буду проверять.

С уважением, Романов АлексейАлександр, здравствуйте

Все исправления я выложил на FTP в папку Romanow/8.09.2011/

1. В программе Work1 я исправил поиск оборудования через USB<->COM, протестировал на протоколах Штрих-М, Меркурий, на протоколе АТОЛ почему-то не работает (проверял и через стандартный интерфейс confGUI, то же самое).

2. В программе ConfigTool добавлен ProgressBar для проверки настроек прокси-сервера, и если запрос прошел, то данные добавляются в базу.

3. В программах DiscountMobile и ConfigTool параметры подключения к базе берутся из файла /etc/dancy/dnc_eds.conf. В ConfigTool если подключение не прошло, то вызывается диалог настроек и в случае успешного подключения в файл записываются новые параметры.

Пример файла:

[DATABASE] dnc_eds
[HOST] 127.0.0.1
[PORT] 5432
[USER] user
[PASSWORD] root

4. В программах DiscountMobile и ConfigTool все взаимодействие с базой реализовано через библиотеку libpq, вместе с этой библиотекой там тянутся libssl и libcrypto.

LIBS += -L/usr/include/postgresql/ -lpq -lcrypto -lssl

Если будут вопросы, то лучше пишите на romanowalex@mail.ru, я ее буду проверять.

С уважением, Романов Алексей
